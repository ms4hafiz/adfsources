{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Data Factory name",
			"defaultValue": "ADFforHafizTest"
		},
		"AFGNutritonDBconnection_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'AFGNutritonDBconnection'"
		},
		"AzureDataLakeStorage1_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'AzureDataLakeStorage1'"
		},
		"DLkStoragelink_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'DLkStoragelink'"
		},
		"Linkedstoragreaccount_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'Linkedstoragreaccount'"
		},
		"Nutrition_DB_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'Nutrition_DB'"
		},
		"SQLDB_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'SQLDB'"
		},
		"Synapseanalysitlinke_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'Synapseanalysitlinke'",
			"defaultValue": "Integrated Security=False;Encrypt=True;Connection Timeout=30;Data Source=https://dlkstorageaccount.dfs.core.windows.net;Initial Catalog=synapseDBtest"
		},
		"azureBlockforSSIStest_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'azureBlockforSSIStest'"
		},
		"azuressisirlink_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'azuressisirlink'"
		},
		"AzureDataLakeStorage1_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://demo001203.dfs.core.windows.net/"
		},
		"DLkStoragelink_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://demo001203.dfs.core.windows.net/"
		},
		"Linkedstoragreaccount_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://demo001203.dfs.core.windows.net/"
		},
		"azuressisirlink_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://demo001203.dfs.core.windows.net/"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/AFGNutritonDBconnection')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('AFGNutritonDBconnection_connectionString')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/AzureDataLakeStorage1')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('AzureDataLakeStorage1_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('AzureDataLakeStorage1_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/DLkStoragelink')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('DLkStoragelink_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('DLkStoragelink_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Linkedstoragreaccount')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('Linkedstoragreaccount_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('Linkedstoragreaccount_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Nutrition_DB')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('Nutrition_DB_connectionString')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SQLDB')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureSqlDatabase",
				"typeProperties": {
					"connectionString": "[parameters('SQLDB_connectionString')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Synapseanalysitlinke')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureSqlDW",
				"typeProperties": {
					"connectionString": "[parameters('Synapseanalysitlinke_connectionString')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/azureBlockforSSIStest')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobStorage",
				"typeProperties": {
					"connectionString": "[parameters('azureBlockforSSIStest_connectionString')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/azuressisirlink')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('azuressisirlink_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('azuressisirlink_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/integrationRuntimeLocal')]",
			"type": "Microsoft.DataFactory/factories/integrationRuntimes",
			"apiVersion": "2018-06-01",
			"properties": {
				"type": "SelfHosted",
				"typeProperties": {}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/AFGNUTRITIONDW')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AFGNutritonDBconnection",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "SqlServerTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "HFsAll"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AFGNutritonDBconnection')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/AzureSqlTable1')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "SQLDB",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "CustomerID",
						"type": "int",
						"precision": 10
					},
					{
						"name": "NameStyle",
						"type": "bit"
					},
					{
						"name": "Title",
						"type": "nvarchar"
					},
					{
						"name": "FirstName",
						"type": "nvarchar"
					},
					{
						"name": "MiddleName",
						"type": "nvarchar"
					},
					{
						"name": "LastName",
						"type": "nvarchar"
					},
					{
						"name": "Suffix",
						"type": "nvarchar"
					},
					{
						"name": "CompanyName",
						"type": "nvarchar"
					},
					{
						"name": "SalesPerson",
						"type": "nvarchar"
					},
					{
						"name": "EmailAddress",
						"type": "nvarchar"
					},
					{
						"name": "Phone",
						"type": "nvarchar"
					},
					{
						"name": "PasswordHash",
						"type": "varchar"
					},
					{
						"name": "PasswordSalt",
						"type": "varchar"
					},
					{
						"name": "rowguid",
						"type": "uniqueidentifier"
					},
					{
						"name": "ModifiedDate",
						"type": "datetime",
						"precision": 23,
						"scale": 3
					}
				],
				"typeProperties": {
					"schema": "SalesLT",
					"table": "Customer"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/SQLDB')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/Badghis')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AFGNutritonDBconnection",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "SqlServerTable",
				"schema": [
					{
						"name": "FacilityID",
						"type": "nvarchar"
					},
					{
						"name": "FacTypeCode",
						"type": "nvarchar"
					},
					{
						"name": "FacilityName",
						"type": "nvarchar"
					},
					{
						"name": "Facility Type",
						"type": "nvarchar"
					},
					{
						"name": "District",
						"type": "nvarchar"
					},
					{
						"name": "ActiveStatus",
						"type": "nvarchar"
					},
					{
						"name": "Total",
						"type": "nvarchar"
					}
				],
				"typeProperties": {
					"schema": "dbo",
					"table": "Badghis"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AFGNutritonDBconnection')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/Baghlan')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AFGNutritonDBconnection",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "SqlServerTable",
				"schema": [
					{
						"name": "FacilityID",
						"type": "nvarchar"
					},
					{
						"name": "FacTypeCode",
						"type": "nvarchar"
					},
					{
						"name": "FacilityName",
						"type": "nvarchar"
					},
					{
						"name": "Facility Type",
						"type": "nvarchar"
					},
					{
						"name": "District",
						"type": "nvarchar"
					},
					{
						"name": "ActiveStatus",
						"type": "nvarchar"
					},
					{
						"name": "Total",
						"type": "nvarchar"
					}
				],
				"typeProperties": {
					"schema": "dbo",
					"table": "Baghlan"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AFGNutritonDBconnection')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/Balkh')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AFGNutritonDBconnection",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "SqlServerTable",
				"schema": [
					{
						"name": "FacilityID",
						"type": "nvarchar"
					},
					{
						"name": "FacTypeCode",
						"type": "nvarchar"
					},
					{
						"name": "FacilityName",
						"type": "nvarchar"
					},
					{
						"name": "Facility Type",
						"type": "nvarchar"
					},
					{
						"name": "District",
						"type": "nvarchar"
					},
					{
						"name": "ActiveStatus",
						"type": "nvarchar"
					},
					{
						"name": "Total",
						"type": "nvarchar"
					}
				],
				"typeProperties": {
					"schema": "dbo",
					"table": "Balkh"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/AFGNutritonDBconnection')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/Inputpointer')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "Linkedstoragreaccount",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": "ChildCategories.txt",
						"folderPath": "input",
						"fileSystem": "adfdemo"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"quoteChar": "\""
				},
				"schema": [
					{
						"type": "String"
					}
				]
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/Linkedstoragreaccount')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/NSSIMport')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "Nutrition_DB",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "SqlServerTable",
				"schema": [
					{
						"name": "Id",
						"type": "int",
						"precision": 10
					},
					{
						"name": "FacilityID",
						"type": "int",
						"precision": 10
					},
					{
						"name": "FacilityNameDari",
						"type": "nvarchar"
					},
					{
						"name": "FacilityName",
						"type": "nvarchar"
					},
					{
						"name": "TypeAbbrv",
						"type": "nvarchar"
					},
					{
						"name": "DistrictCode",
						"type": "nvarchar"
					},
					{
						"name": "District",
						"type": "nvarchar"
					},
					{
						"name": "DistNameDari",
						"type": "nvarchar"
					},
					{
						"name": "ProvinceCode",
						"type": "nvarchar"
					},
					{
						"name": "Province",
						"type": "nvarchar"
					},
					{
						"name": "ProvinceNameDari",
						"type": "nvarchar"
					},
					{
						"name": "Village",
						"type": "nvarchar"
					},
					{
						"name": "Chwname",
						"type": "nvarchar"
					},
					{
						"name": "Chwcode",
						"type": "nvarchar"
					},
					{
						"name": "Year",
						"type": "int",
						"precision": 10
					},
					{
						"name": "Month",
						"type": "int",
						"precision": 10
					},
					{
						"name": "ChildId",
						"type": "int",
						"precision": 10
					},
					{
						"name": "Childname",
						"type": "nvarchar"
					},
					{
						"name": "Childcode",
						"type": "int",
						"precision": 10
					},
					{
						"name": "Age",
						"type": "int",
						"precision": 10
					},
					{
						"name": "Agecategory",
						"type": "varchar"
					},
					{
						"name": "Gender",
						"type": "varchar"
					},
					{
						"name": "Childfathername",
						"type": "nvarchar"
					},
					{
						"name": "Muacsize",
						"type": "int",
						"precision": 10
					},
					{
						"name": "Hasswelling",
						"type": "nvarchar"
					},
					{
						"name": "Genderdari",
						"type": "nvarchar"
					},
					{
						"name": "Muacstatus",
						"type": "varchar"
					},
					{
						"name": "Hasswellingdari",
						"type": "nvarchar"
					},
					{
						"name": "Monthyear",
						"type": "date"
					},
					{
						"name": "Username",
						"type": "nvarchar"
					},
					{
						"name": "Nssmonthid",
						"type": "int",
						"precision": 10
					},
					{
						"name": "Totalnormal",
						"type": "int",
						"precision": 10
					},
					{
						"name": "Totalmoderate",
						"type": "int",
						"precision": 10
					},
					{
						"name": "Totalsevere",
						"type": "int",
						"precision": 10
					},
					{
						"name": "Totalmissing",
						"type": "int",
						"precision": 10
					}
				],
				"typeProperties": {
					"schema": "dbo",
					"table": "common_nss"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/Nutrition_DB')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/NutritionDB')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "Nutrition_DB",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "SqlServerTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "Balkh"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/Nutrition_DB')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/Outputdataset')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "Linkedstoragreaccount",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": "data.txt",
						"folderPath": "output",
						"fileSystem": "adfdemo"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/Linkedstoragreaccount')]"
			]
		},
		{
			"name": "[concat(parameters('factoryName'), '/azuresqllinkhmisidpsam')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "SQLDB",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [],
				"typeProperties": {
					"schema": "dbo",
					"table": "hmisipdsam"
				}
			},
			"dependsOn": [
				"[concat(variables('factoryId'), '/linkedServices/SQLDB')]"
			]
		}
	]
}